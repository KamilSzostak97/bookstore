
{% extends 'book/main.html' %}
{% block content %}
<br>
<div class="container">
<div class="container row">
	<div class="col-lg-10">
		<form class="input" method="GET" action="">
			<input class="search-bar" type="search" id="main_bar" name="search">
			<input class="search-bar" type="search" id="hidden_bar" name="date_search" placeholder="to" style="display:none;">
			<select name="filterby" id="criteria" onchange="showDiv(this)">
				<option value="title__icontains">Title</option>
				<option value="author__icontains">Author</option>
				<option value="language__icontains">Language</option>
				<option value="published_date__icontains">Date</option>
			</select>
			<button class="search-button" type="submit"> Search </button>
		</form>
		<div class="card card-body">
			<table class="table table-sm">
				<tr>
					<th><b>Title</b></th>
					<th>Author</th>
                    <th>Published</th>
					<th>ISBN Number</th>
					<th>Number of pages</th>
					<th>Language</th>
                    <th></th>
				</tr>
                {% for book in books %}
		        <tr>
					<td><b>{{book.title}}</b> </td>
                    <td>{{book.author}} </td>
					<td>{{book.published_date}} </td>
					<td>{{book.isbn}} </td>
					<td>{{book.pages}} </td>
					<td>{{book.language}} </td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
</div>

<script type="text/javascript">
	function showDiv(select){
		if(select.value=="published_date__icontains"){
			document.getElementById('hidden_bar').style.display = "inline";
			document.getElementById('main_bar').placeholder = "from";
		} else{
			document.getElementById('hidden_bar').style.display = "none";
			document.getElementById('main_bar').placeholder = "";
		}
	} 
</script>

{% endblock %}
       